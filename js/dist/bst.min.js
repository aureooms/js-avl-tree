!function(t,r){"use strict";var i=function(t){this.compare=t,this.root=null};i.Node=function(t,r,i,l,n){this.balancingfactor=0,this.parent=r,this.left=i,this.right=l,this.value=n};var l=function(t){var i,l,n,e,h,o,s,u,f,p,a,c,v;return i=function(t,r){r[0]=t[1],t[1]=r},l=function(t,r){r[1]=t[0],t[0]=r},n=function(t,r,l){i(r,l),i(t,r)},e=function(t,r,n){i(t,n),l(t,r)},h=function(t,r,n){l(t,n),i(t,r)},o=function(t,r,i){l(r,i),l(t,r)},s=[i,l],u=[[n,e],[h,o]],f=function(r,i){var l;l=t(i,r[2])>0|0,null===r[l]?r[l]=[null,null,i]:f(r[l],i)},p=function(i,l){var n,e,h,o,f,p,a;for(n=[],e=[],h=i,o=r;o===r;)null===h?(o=!1,h=e[e.length-1],--n.length):(f=t(l,h[2]),0===f?o=!0:(p=f>0|0,e.push(h),n.push(p),h=h[p]));for(a=n.length-1;a>0;a-=2)u[n[a-1]][n[a]](h,e[a],e[a-1]);return 0===a&&s[n[0]](h,i),[o,h]},a=function(t,r){var i;return i=p(t,r),i[0]?null===i[1][0]?i[1][1]:null===i[1][1]?i[1][0]:(i[1][0]=p(i[1][0],r)[1],i[1][0][1]=i[1][1],i[1][0]):i[1]},c=function(t,r){null!==t[0]&&c(t[0],r),r(t[2]),null!==t[1]&&c(t[1],r)},v=function(){this.pt=null},v.prototype.insert=function(t){null===this.pt?this.pt=[null,null,t]:f(this.pt,t)},v.prototype.find=function(t){var r;return null===this.pt?[!1,null]:(r=p(this.pt,t),this.pt=r[1],[r[0],r[1][2]])},v.prototype.remove=function(t){null!==this.pt&&(this.pt=a(this.pt,t))},v.prototype.in_order_traversal=function(t){null!==this.pt&&c(this.pt,t)},v};t.__SplayTree1__=l;var n=function(t){var i=function(r,l){var n=t(l,r[2])>0|0;null===r[n]?r[n]=[null,null,l]:i(r[n],l)},l=function(i,l){for(var n,e,h,o,s,u,f,p,a,c,v,g=[],d=[],y=i;n===r;)e=t(l,y[2]),0===e?n=!0:(h=e>0|0,null===y[h]?n=!1:(d.push(y),g.push(h),y=y[h]));for(o=g.length-1,s=[y,null];o>0;o-=2)p=g[o],f=g[o-1],a=f===p|0,v=d[o-1],c=d[o],s[1]=c,v[f]=s[a][1-f],s[a][1-f]=v,c[p]=y[1-p],y[1-p]=c;return 0===o&&(u=g[0],i[u]=y[1-u],y[1-u]=i),[n,y]},n=function(t,r){var i=l(t,r);return i[0]?null===i[1][0]?i[1][1]:null===i[1][1]?i[1][0]:(i[1][0]=l(i[1][0],r)[1],i[1][0][1]=i[1][1],i[1][0]):i[1]},e=function(t,r){null!==t[0]&&e(t[0],r),r(t[2]),null!==t[1]&&e(t[1],r)},h=function(){this.pt=null};return h.prototype.insert=function(t){null===this.pt?this.pt=[null,null,t]:i(this.pt,t)},h.prototype.find=function(t){if(null===this.pt)return[!1,null];var r=l(this.pt,t);return this.pt=r[1],[r[0],r[1][2]]},h.prototype.remove=function(t){null!==this.pt&&(this.pt=n(this.pt,t))},h.prototype.in_order_traversal=function(t){null!==this.pt&&e(this.pt,t)},h};t.__SplayTree2__=n;var e=function(t){var i=function(r,l){var n=t(l,r[2])>0|0;null===r[n]?r[n]=[null,null,l]:i(r[n],l)},l=function(i,l){var n,e,h,o,s,u;for(n=e=s=[null,null,r],h=i;;)if(u=t(l,h[2]),0>u){if(!h[0])break;if(t(l,h[0][2])<0&&(o=h[0],h[0]=o[1],o[1]=h,h=o,!h[0]))break;e[0]=h,e=h,h=h[0]}else{if(!(u>0))break;if(!h[1])break;if(t(l,h[1][2])>0&&(o=h[1],h[1]=o[0],o[0]=h,h=o,!h[1]))break;n[1]=h,n=h,h=h[1]}return n[1]=h[0],e[0]=h[1],h[0]=s[1],h[1]=s[0],[0===t(l,h[2]),h]},n=function(t,r){var i=l(t,r);return i[0]?null===i[1][0]?i[1][1]:null===i[1][1]?i[1][0]:(i[1][0]=l(i[1][0],r)[1],i[1][0][1]=i[1][1],i[1][0]):i[1]},e=function(t,r){null!==t[0]&&e(t[0],r),r(t[2]),null!==t[1]&&e(t[1],r)},h=function(){this.pt=null};return h.prototype.insert=function(t){null===this.pt?this.pt=[null,null,t]:i(this.pt,t)},h.prototype.find=function(t){if(null===this.pt)return[!1,null];var r=l(this.pt,t);return this.pt=r[1],[r[0],r[1][2]]},h.prototype.remove=function(t){null!==this.pt&&(this.pt=n(this.pt,t))},h.prototype.in_order_traversal=function(t){null!==this.pt&&e(this.pt,t)},h};t.__SplayTree3__=e;var h=function(t){var r=function(t){this.l=this.r=null,this.v=t},i=function(t,r){this.d=t,this.pt=r},l=function(l,n){var e,h,o,s,u,f;for(e=h=u=new r,o=l;;)if(f=t(n,o.v),0>f){if(!o.l)break;if(t(n,o.l.v)<0&&(s=o.l,o.l=s.r,s.r=o,o=s,!o.l))break;h.l=o,h=o,o=o.l}else{if(!(f>0))break;if(!o.r)break;if(t(n,o.r.v)>0&&(s=o.r,o.r=s.l,s.l=o,o=s,!o.r))break;e.r=o,e=o,o=o.r}return e.r=o.l,h.l=o.r,o.l=u.r,o.r=u.l,new i(f,o)},n=function(t,r){var i=l(t,r),n=i.pt;return 0!==i.d?n:null===n.l?n.r:null===n.r?n.l:(n.l=l(n.l,r).pt,n.l.r=n.r,n.l)},e=function(t,r){null!==t.l&&e(t.l,r),r(t.v),null!==t.r&&e(t.r,r)},h=function(){this.pt=null};return h.prototype.insert=function(t){var i=new r(t);if(null!==this.pt){var n=l(this.pt,t);this.pt=n.pt,n.d<=0?(i.l=this.pt.l,i.r=this.pt,this.pt.l=null):(i.r=this.pt.r,i.l=this.pt,this.pt.r=null)}this.pt=i},h.prototype.find=function(t){if(null===this.pt)return[!1,null];var r=l(this.pt,t);return this.pt=r.pt,[0===r.d,this.pt.v]},h.prototype.remove=function(t){null!==this.pt&&(this.pt=n(this.pt,t))},h.prototype.in_order_traversal=function(t){null!==this.pt&&e(this.pt,t)},h};t.__SplayTree4__=h;var o=function(t){var r=function(t){this.l=this.r=null,this.v=t},i=function(t,r){null!==t.l&&i(t.l,r),r(t.v),null!==t.r&&i(t.r,r)},l=function(){this.pt=null};return l.prototype.splay=function(i){var l,n,e,h,o,s;for(l=n=o=new r,e=this.pt;;)if(s=t(i,e.v),0>s){if(!e.l)break;if(t(i,e.l.v)<0&&(h=e.l,e.l=h.r,h.r=e,e=h,!e.l))break;n.l=e,n=e,e=e.l}else{if(!(s>0))break;if(!e.r)break;if(t(i,e.r.v)>0&&(h=e.r,e.r=h.l,h.l=e,e=h,!e.r))break;l.r=e,l=e,e=e.r}return l.r=e.l,n.l=e.r,e.l=o.r,e.r=o.l,this.pt=e,s},l.prototype.remove=function(t){if(null!==this.pt){var r=this.splay(t);if(0===r)if(null===this.pt.l)this.pt=this.pt.r;else if(null===this.pt.r)this.pt=this.pt.l;else{var i=this.pt.r;this.pt=this.pt.l,this.splay(t),this.pt.r=i}}},l.prototype.insert=function(t){var i=new r(t);if(null!==this.pt){var l=this.splay(t);0>=l?(i.l=this.pt.l,i.r=this.pt,this.pt.l=null):(i.r=this.pt.r,i.l=this.pt,this.pt.r=null)}this.pt=i},l.prototype.find=function(t){if(null===this.pt)return[!1,null];var r=this.splay(t);return[0===r,this.pt.v]},l.prototype.in_order_traversal=function(t){null!==this.pt&&i(this.pt,t)},l};t.__SplayTree5__=o;var s=function(t){this.compare=t,this.root=null};s.Node=function(t){this.value=t,this.left=null,this.right=null},s.prototype.insert=function(t){return null===this.root?this.root=new s.Node(t):this.root.insert(this.compare,t),this},s.Node.prototype.insert=function(t,r){return t(r,this.value)<=0?null!==this.left?this.left.insert(t,r):this.left=new s.Node(r):null!==this.right?this.right.insert(t,r):this.right=new s.Node(r),this},s.prototype.remove=function(t){var r,i;if(null!==this.root)if(0===this.compare(t,this.root.value))if(r=this.root.left,null===r)this.root=this.root.right;else{for(i=this.root;null!==r.right;)i=r,r=r.right;i===this.root?(this.root.left.right=this.root.right,this.root=this.root.left):(i.right=r.left,r.left=this.root.left,r.right=this.root.right,this.root=r)}else this.root.remove(this.compare,t);return this},s.Node.prototype.remove=function(t,r){var i,l;if(t(r,this.value)<=0){if(null!==this.left)if(0===t(r,this.left.value))if(i=this.left.left,null===i)this.left=this.left.right;else{for(l=this.left;null!==i.right;)l=i,i=i.right;l===this.left?(this.left.left.right=this.left.right,this.left=this.left.left):(l.right=i.left,i.left=this.left.left,i.right=this.left.right,this.left=i)}else this.left.remove(t,r)}else if(null!==this.right)if(0===t(r,this.right.value))if(i=this.right.left,null===i)this.right=this.right.right;else{for(l=this.right;null!==i.right;)l=i,i=i.right;l===this.right?(this.right.left.right=this.right.right,this.right=this.right.left):(l.right=i.left,i.right=this.right.right,i.left=this.right.left,this.right=i)}else this.right.remove(t,r);return this},s.prototype.find=function(t){return null===this.root?[!1,null]:this.root.find(this.compare,t)},s.Node.prototype.find=function(t,r){var i;return i=t(r,this.value),0===i?[!0,this.value]:0>i?null===this.left?[!1,this.value]:this.left.find(t,r):null===this.right?[!1,this.value]:this.right.find(t,r)},s.prototype.findleft=function(t){return null===this.root?r:this.root.findleft(this.compare,t,r)},s.Node.prototype.findleft=function(t,r,i){return t(r,this.value)<=0?null===this.left?i:this.left.findleft(t,r,i):null===this.right?i:this.right.findleft(t,r,this.value)},s.prototype.in_order_traversal=function(t){null!==this.root&&this.root.in_order_traversal(t)},s.Node.prototype.in_order_traversal=function(t){null!==this.left&&this.left.in_order_traversal(t),t(this.value),null!==this.right&&this.right.in_order_traversal(t)},s.Node.prototype.max=function(){return null===this.right?this:this.right.max()},t.UnbalancedBST1=s;var u=function(t){var r;do{if(2===t.balancefactor){r=t.left,-1===r.balancefactor&&(t.left=c(r)),t.parent.leftorright=g(t);break}if(-2===t.balancefactor){r=t.right,1===r.balancefactor&&v(r),a(t);break}if(0===t.balancefactor)break;r=t,t=r.parent}while(null!==t)};t.avlbalance=u;var f=function(t,r,i){var l;for(l=null;;)if(t(i,r)<=0){if(l=r.left,null===l){r.left=i;break}r=l}else{if(l=r.right,null===l){r.right=i;break}r=l}return i};t.insert=f;var p=function(t,r,i){var l;for(l=null;;)if(t(i,r)<=0){if(l=r.left,null===l){r.left=i;break}r=l}else{if(l=r.right,null===l){r.right=i;break}r=l}return i.parent=r,i};t.insertwithparent=p;var a=function(t){var r;return r=t.right,t.right=r.left,r.left=t,r};t.leftrotate=a;var c=function(t){var r;return r=t.right,t.right=r.left,r.left=t,r.parent=t.parent,t.right.parent=t,t.parent=r,r};t.leftrotatewithparent=c;var v=function(t){var r;return r=t.left,t.left=r.right,r.right=t,r};t.rightrotate=v;var g=function(t){var r;return r=t.left,t.left=r.right,r.right=t,r.parent=t.parent,t.left.parent=t,t.parent=r,r};t.rightrotatewithparent=g}("undefined"==typeof exports?this.bst={}:exports);
//# sourceMappingURL=js/dist//bst.js.map