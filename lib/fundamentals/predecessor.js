"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = predecessor;

/**
 * Finds the greatest value in the binary search tree
 * which is smaller than parameter value.
 */

function predecessor(compare, node, value, pred) {

	var d = compare(value, node.value);

	if (d === 0) {
		return [true, node.value];
	} else if (d < 0) {

		if (node.left === null) {
			return [false, pred];
		}

		return predecessor(compare, node.left, value, pred);
	} else {

		if (node.right === null) {
			return [false, node.value];
		}

		return predecessor(compare, node.right, value, node.value);
	}
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9mdW5kYW1lbnRhbHMvcHJlZGVjZXNzb3IuanMiXSwibmFtZXMiOlsicHJlZGVjZXNzb3IiLCJjb21wYXJlIiwibm9kZSIsInZhbHVlIiwicHJlZCIsImQiLCJsZWZ0IiwicmlnaHQiXSwibWFwcGluZ3MiOiI7Ozs7O2tCQU13QkEsVzs7QUFMeEI7Ozs7O0FBS2UsU0FBU0EsV0FBVCxDQUF1QkMsT0FBdkIsRUFBZ0NDLElBQWhDLEVBQXNDQyxLQUF0QyxFQUE2Q0MsSUFBN0MsRUFBb0Q7O0FBRWxFLEtBQU1DLElBQUlKLFFBQVNFLEtBQVQsRUFBZ0JELEtBQUtDLEtBQXJCLENBQVY7O0FBRUEsS0FBS0UsTUFBTSxDQUFYLEVBQWU7QUFDZCxTQUFPLENBQUMsSUFBRCxFQUFPSCxLQUFLQyxLQUFaLENBQVA7QUFDQSxFQUZELE1BSUssSUFBS0UsSUFBSSxDQUFULEVBQWE7O0FBRWpCLE1BQUtILEtBQUtJLElBQUwsS0FBYyxJQUFuQixFQUEwQjtBQUN6QixVQUFPLENBQUMsS0FBRCxFQUFRRixJQUFSLENBQVA7QUFDQTs7QUFFRCxTQUFPSixZQUFhQyxPQUFiLEVBQXNCQyxLQUFLSSxJQUEzQixFQUFpQ0gsS0FBakMsRUFBd0NDLElBQXhDLENBQVA7QUFFQSxFQVJJLE1BVUE7O0FBRUosTUFBS0YsS0FBS0ssS0FBTCxLQUFlLElBQXBCLEVBQTJCO0FBQzFCLFVBQU8sQ0FBQyxLQUFELEVBQVFMLEtBQUtDLEtBQWIsQ0FBUDtBQUNBOztBQUVELFNBQU9ILFlBQWFDLE9BQWIsRUFBc0JDLEtBQUtLLEtBQTNCLEVBQWtDSixLQUFsQyxFQUF5Q0QsS0FBS0MsS0FBOUMsQ0FBUDtBQUNBO0FBRUQiLCJmaWxlIjoicHJlZGVjZXNzb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogRmluZHMgdGhlIGdyZWF0ZXN0IHZhbHVlIGluIHRoZSBiaW5hcnkgc2VhcmNoIHRyZWVcbiAqIHdoaWNoIGlzIHNtYWxsZXIgdGhhbiBwYXJhbWV0ZXIgdmFsdWUuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlZGVjZXNzb3IgKCBjb21wYXJlLCBub2RlLCB2YWx1ZSwgcHJlZCApIHtcblxuXHRjb25zdCBkID0gY29tcGFyZSggdmFsdWUsIG5vZGUudmFsdWUgKTtcblxuXHRpZiAoIGQgPT09IDAgKSB7XG5cdFx0cmV0dXJuIFt0cnVlLCBub2RlLnZhbHVlXTtcblx0fVxuXG5cdGVsc2UgaWYgKCBkIDwgMCApIHtcblxuXHRcdGlmICggbm9kZS5sZWZ0ID09PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIFtmYWxzZSwgcHJlZF07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByZWRlY2Vzc29yKCBjb21wYXJlLCBub2RlLmxlZnQsIHZhbHVlLCBwcmVkICk7XG5cblx0fVxuXG5cdGVsc2Uge1xuXG5cdFx0aWYgKCBub2RlLnJpZ2h0ID09PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIFtmYWxzZSwgbm9kZS52YWx1ZV07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByZWRlY2Vzc29yKCBjb21wYXJlLCBub2RlLnJpZ2h0LCB2YWx1ZSwgbm9kZS52YWx1ZSApO1xuXHR9XG5cbn1cbiJdfQ==